@use './variables';
@use './_drag';
@use './_details';

/* Layout */
:host { display: block; }

.organizer-root {
  padding: 1rem;
  background-color: var(--color-background);
  color: var(--color-text);
  min-height: 100vh;
}

.controls {
  margin-bottom: 1rem;
  align-items: center;
}

.sort-and-add {
  display: flex;
  gap: 0.5rem;
  align-items: center;
  &.expanded { width: 100%; }
}

/* Board */

/* Controls */
.add-playlist-trigger {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.5rem 0.9rem;

  .plus-icon {
    font-weight: 800;
    font-size: 1.1rem;
    line-height: 1;
    display: inline-block;
  }
  .btn-label { white-space: nowrap; }
}

.controls {
  input {
    padding: 0.5rem 0.75rem;
    border-radius: var(--border-radius-md);
    border: 1px solid var(--color-border);
    min-width: 300px;
    flex: 1;
    background-color: var(--color-surface);
    color: var(--color-text);
    &:focus {
      border-color: var(--color-primary);
      box-shadow: 0 0 0 0.2rem rgba(77, 171, 247, 0.25);
      background-color: var(--color-background);
    }
  }
}

/* Sort dropdown */
.sort-dropdown {
  min-width: 200px;
  width: auto;
  max-width: 400px;
  padding: 0.5rem 0.75rem;
  border-radius: var(--border-radius-md);
  border: 1px solid var(--color-border);
  background-color: var(--color-surface);
  color: var(--color-text);
  font-size: 0.9rem;
  &:disabled { background-color: var(--color-surface-alt); opacity: 0.6; }
}

.board {
  display: flex;
  gap: 1rem;
  overflow-x: auto;
  padding-bottom: 1rem;
  align-items: flex-start;
}

.card-body {
  padding: 0.6rem;
}

.column {
  min-width: 300px;
  max-width: 380px;
  display: flex;
  flex-direction: column;
  padding: 0.125rem;
  background: linear-gradient(180deg, var(--color-surface), var(--color-background));
}

.playlist-card {transition:transform .18s ease,box-shadow .18s ease;background:var(--color-surface);border:3px solid var(--color-border);box-shadow:var(--shadow-sm);color:var(--color-text);&:hover{transform:translateY(-3px);box-shadow:var(--shadow-md);} }

.video-list { display:flex; flex-direction:column; gap:.5rem; min-height:50px; max-height:370px; overflow-y:auto; padding-right:.1rem; }

.video-card { display:flex; flex-direction:column; align-items:stretch; padding:.5rem .25rem; background:var(--color-surface-alt); border-radius:var(--border-radius-md); box-shadow:var(--shadow-sm); transition:box-shadow .12s, transform .12s; border:1px solid var(--color-border); color:var(--color-text); &:hover{transform:translateY(-2px);box-shadow:0 6px 16px var(--color-shadow-dark);} }

 .video-main {
  display:flex; gap:.5rem; align-items:center; width:100%; min-width:0;

  img {
    width: 100px;
    height: 56px;
    object-fit: cover;
    border-radius: var(--border-radius-sm);
    flex-shrink: 0;
    &[role="button"] { cursor: pointer; }
    &[role="button"]:focus {
      outline: 3px solid rgba(25,118,210,0.25);
      outline-offset: 2px;
    }
  }

  .open { margin-left:.5rem; margin-inline-start:auto; display:inline-flex; align-items:center; justify-content:center; width:36px; height:36px; border-radius:var(--border-radius-md); color:var(--color-text-muted); }
}

.meta { flex:1 1 auto; min-width:0; .title{white-space:nowrap; overflow:hidden; text-overflow:ellipsis; font-weight:600;} .duration{font-size:.85rem; color:var(--color-text-muted);} }

.open { color:inherit; text-decoration:none; }

/* .video-main .open now nested inside .video-main above */

.spacer {
  flex: 1 1 auto;
}

// .video-details moved to _details.scss

.play-btn {
  min-height: 36px;
  height: 36px;
  line-height: 1;
  padding: 0 10px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  min-width: 100px;
}

.navbar {
  position: sticky;
  top: 0;
  z-index: 6;
}

:host { overflow-x: auto; }

/* Responsive */

/* =====================
   Responsive (mobile)
   ===================== */
@media (max-width: 720px) {
  .board { padding-bottom: 0.5rem; gap: 0.75rem; }
  .controls { flex-direction: column; gap: 0.5rem; input { min-width: 200px; } }
  .sort-dropdown { min-width: 160px; }
  .sort-and-add {
    width: 100%;
    gap: 0.5rem;
    .sort-dropdown { flex: 1 1 auto; }
    .add-playlist { flex: 0 0 auto; }
    &.expanded {
      flex-direction: column;
      .add-playlist,
      .add-playlist-form { width: 100%; }
    }
  }
  .add-playlist-trigger { padding: 0.5rem 0.5rem; }
}

.no-results {
  margin-top: 1rem;
  padding: 1rem;
  color: var(--color-text);
  background: var(--color-surface);
  border-radius: var(--border-radius-md);
  border: 1px solid var(--color-border);
}

// Drag/drop & load-more styles moved to _drag.scss partial.


/* Welcome screen styles extracted to welcome-screen.component.scss */

/* Compact footer inputs */
.add-playlist { input.form-control-sm { min-width: 20px; } }

@media (max-width: 720px) {
  .welcome-card { padding: 1rem; }
  .welcome-screen { padding: 1rem 0.5rem; }
  .controls-row-compact { display: flex; width: 100%; gap: 0.5rem; }
  .sort-dropdown { max-width: 100%; }
}


@media (max-width: 425px) {
  .sort-and-add{ width: 50%; }
  .add-playlist-trigger { .btn-label { display: none; } }
}

@media (max-width: 300px) {
  .sort-and-add{ width: 100%; }
}
.add-playlist { .btn-sm { height: 34px; } }

.playlist-footer {
  padding: 0.5rem;
  border-top: 1px solid rgba(0,0,0,0.04);
  background: transparent;
}

.playlist-footer { input.form-control-sm { min-width: 20px; } }